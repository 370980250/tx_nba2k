<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.tx.dao.GradeDao">
<!-- 根据id查询届数 -->
<select id="queryGradeById" parameterType="int" resultType="grade">
	select * from tx_grade where id=#{gid}
</select>
<!-- 查询最大id届数 -->
<select id="queryMaxGrade" resultType="grade">
	select * from tx_grade where id = (select max(id) from tx_grade)
</select>

<select id="queryGradeList" resultType="grade">
	select * from tx_grade order by id asc
</select>
<insert id="addGrade" parameterType="grade">
	insert into tx_grade(gname,joinTitle,joinContext,drawTitle,drawContext,state,allowDraw) values(#{gname},#{joinTitle},#{joinContext},#{drawTitle},#{drawContext},#{state},#{allowDraw})
</insert>

<update id="updateGrade" parameterType="grade">
	update tx_grade
	<trim prefix="set" suffixOverrides=",">
		<if test="gname!=null and gname!=''">
			gname = #{gname},
 		</if>
		<if test="joinTitle!=null and joinTitle!=''">
			joinTitle = #{joinTitle},
		</if>
		<if test="joinContext!=null and joinContext!=''">
			joinContext = #{joinContext},
		</if>
		<if test="drawTitle!=null and drawTitle!=''">
			drawTitle = #{drawTitle},
		</if>
		<if test="drawContext!=null and drawContext!=''">
			drawContext = #{drawContext},
		</if>
		state = #{state},allowDraw = #{allowDraw},
		
	</trim>
	where id = #{id}
</update>
</mapper>