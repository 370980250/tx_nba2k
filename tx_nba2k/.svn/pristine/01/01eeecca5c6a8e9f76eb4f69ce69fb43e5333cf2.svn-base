package com.tx.action;

import javax.servlet.http.HttpSession;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.ResponseBody;

import com.tx.pojo.User;
import com.tx.service.inter.IUserService;

@Controller
@RequestMapping("User")
public class UserAction {
	@Autowired
	IUserService ius;
	
	@RequestMapping("/login.do")
	public @ResponseBody User login(User u,HttpSession session){
		u = ius.queryUser(u);
		if(u!=null){
			session.setAttribute("u", u);
		}
		return u;
	}
	@RequestMapping("/exit.do")
	public @ResponseBody boolean exit(HttpSession session){
		session.removeAttribute("u");		
		return true;
	}
}
