<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.tx.dao.PickDao">
<resultMap type="pick" id="pickMap">
	<id column="id" property="id"></id>
	<result column="pick" property="pick"/>
	<result column="state" property="state"/>
	<association property="grade" column="gid" javaType="grade" select="com.tx.dao.GradeDao.queryGradeById"></association>
</resultMap>
<select id="queryPickList" resultMap="pickMap" parameterType="int">
	select * from tx_pick where gid =#{gid} order by pick asc
</select>

<update id="updatePick" parameterType="pick">
	update tx_pick set state = #{state} where id = #{id} and gid =#{grade.id}
</update>

<insert id="addPick" parameterType="pick">
	insert into tx_pick(pick,state,gid) values(#{pick},#{state},#{grade.id})
</insert>
</mapper>